{% extends "base.html" %}
{% load static i18n %}

{% block title %}{% trans "Login" %}{% endblock %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/login.css' %}">
{% endblock %}

{% block content %}
<div class="login-container">
    <div class="login-card">
        <div class="login-header">
            <img src="{% static 'images/lo.png' %}" alt="Logo" class="login-logo">
            <h2 class="system-name">{% trans "Graduation System" %}</h2>
        </div>

        <form method="post" id="login-form">
            {% csrf_token %}
            <div class="form-group">
                <label for="username">{% trans "Username" %}:</label>
                <input type="text" id="username" name="username" required>
            </div>

            <div class="form-group">
                <label for="password">{% trans "Password" %}:</label>
                <input type="password" id="password" name="password" required>
            </div>

            <button type="submit">{% trans "Login" %}</button>
            <p id="error-message" class="error-msg"></p>
        </form>

        <!-- 🌐 Language Switcher -->
        <form action="{% url 'set_language' %}" method="post" style="margin-top: 20px; text-align: center;">
            {% csrf_token %}
            <select name="language" onchange="this.form.submit()">
                <option value="en" {% if LANGUAGE_CODE == 'en' %}selected{% endif %}>English</option>
                <option value="ar" {% if LANGUAGE_CODE == 'ar' %}selected{% endif %}>العربية</option>
            </select>
            <input type="hidden" name="next" value="{{ request.path }}">
        </form>

    </div>
</div>

<script src="{% static 'js/login.js' %}"></script>
{% endblock %}
